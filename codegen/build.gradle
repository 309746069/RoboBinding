archivesBaseName = 'codegen'

repositories {
    mavenCentral()
}

ext {
	codemodelVersion = '2.2.10-b140310.1920';
}

dependencies {
	compile "org.glassfish.jaxb:codemodel:$codemodelVersion"
	compile project(':framework')

	testCompile ("junit:junit:$junitVersion")
	testCompile 'com.google.testing.compile:compile-testing:0.5'
	testCompile("org.mockito:mockito-core:$mockitoVersion") {
		exclude group: 'org.hamcrest', module: 'hamcrest-core'
	}
}

javadoc {
	enabled = false
}

apply plugin: 'eclipse'

eclipse {
	project {
		name = 'RoboBinding-codegen'
		comment = 'The RoboBinding code generator'
		
		natures 'org.springsource.ide.eclipse.gradle.core.nature'
	}
	
	classpath {
		containers 'org.springsource.ide.eclipse.gradle.classpathcontainer'
		file {
			whenMerged { classpath ->
				classpath.entries.removeAll { entry ->
					entry.kind == 'lib'
				}
			}
		}

		file.withXml {
			def node = it.asNode()
			
			node.appendNode('classpathentry excluding="**" kind="src" path="src/test/resources"')
		}
	}
}
  
